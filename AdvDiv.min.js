function advdiv(r,t,e,a,s){if(!a&&a!=="")a="[";if(!s&&s!="")s="]";if(t==0)return false;if(!e)e=0;var u=(parseFloat(r)<0?parseFloat(t)>=0:parseFloat(t)<0)?"-":"";r=Math.abs(r);t=Math.abs(t);e=Math.abs(e);var l=function(r){if(r.indexOf(".")>-1&&r.indexOf(".")==r.length-2)return r.replace(".","");if(r.indexOf(".")>-1)return r.split(".")[0]+r.split(".")[1].split("")[0]+"."+r.split(".")[1].slice(1);return r+"0"};var n=r.toString();var f=t.toString();while(f.indexOf(".")>-1){if(n.indexOf(".")<0){n+=e.toString()[0];if(e.toString().length>1)e=parseInt(e.toString().slice(1)+e.toString()[0])}else n=l(n);f=l(f)}r=parseFloat(n);t=parseInt(f);var p="";var i=n.split("");var I=n.split(".")[0].split("");var v=0;var h=0;var o=false;for(var M=0;M<I.length;M++){p+=Math.floor((parseInt(l(v.toString()))+parseInt(I[M]))/t).toString();v=parseInt(l(v.toString()))+parseInt(I[M])-t*Math.floor((parseInt(l(v.toString()))+parseInt(I[M]))/t)}if(p==""){p="0";M++}var F=M;p+=".";var c=new Array;var d=-1;var g;if(i.indexOf(".")<0)i.push(".");for(M++;M==M;M++){if(M>=i.length){d++;o=true;i.push(parseInt(e.toString().split("")[d%e.toString().length]))}h=parseInt(l(v.toString()))+parseInt(i[M])-t*Math.floor((parseInt(l(v.toString()))+parseInt(i[M]))/t);if(o){if(h==0&&e==0){p+=Math.floor((parseInt(l(v.toString()))+parseInt(i[M]))/t).toString();return u+p.replace(/^0+|0$/gm,"").replace(/^\./,"0.").replace(/\.$/,"")}for(g=0;g<c.length;g++){if(o&&c[g]==h&&g%e.toString().length==(d+1)%e.toString().length){p+=Math.floor((parseInt(l(v.toString()))+parseInt(i[M]))/t).toString();result=u+(p.slice(0,M-d+g)+"["+p.slice(M-d+g)+"]").replace(/^0+/gm,"").replace(/^\./,"0.");if(result[result.indexOf("[")-1]==result[result.indexOf("]")-1])result=result.slice(0,result.indexOf("[")-1)+"["+result[result.indexOf("[")-1]+result.slice(result.indexOf("[")+1,result.indexOf("]")-1)+"]";if(result.indexOf("]")==result.indexOf("[")+3&&result[result.indexOf("[")+1]==result[result.indexOf("[")+2])result=result.slice(0,result.indexOf("[")+2)+"]";return result.replace("[",a).replace("]",s)}}}p+=Math.floor((parseInt(l(v.toString()))+parseInt(i[M]))/t).toString();if(o)c.push(v);v=h}}
