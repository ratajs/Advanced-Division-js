function advdiv(r,a,t,e,n){var f=false;var s=0,i=0,p=-1,I,v,h;var o,u,l="",M;var F=[];var c;var d;var g;if(!e&&e!=="")e="[";if(!n&&n!="")n="]";if(a==0)return false;if(!t)t=0;d=(parseFloat(r)<0?parseFloat(a)>=0:parseFloat(a)<0)?"-":"";r=Math.abs(r);a=Math.abs(a);t=Math.abs(t);var m=function(r){if(r.indexOf(".")>-1&&r.indexOf(".")==r.length-2)return r.replace(".","");if(r.indexOf(".")>-1)return r.split(".")[0]+r.split(".")[1].split("")[0]+"."+r.split(".")[1].slice(1);return r+"0"};o=r.toString();u=a.toString();while(u.indexOf(".")>-1){if(o.indexOf(".")<0){o+=t.toString()[0];if(t.toString().length>1)t=parseInt(t.toString().slice(1)+t.toString()[0])}else o=m(o);u=m(u)}r=parseFloat(o);a=parseInt(u);c=o.split("");g=o.split(".")[0].split("");for(I=0;I<g.length;I++){h=Math.floor((parseInt(m(s.toString()))+parseInt(g[I]))/a);l+=h.toString();s=parseInt(m(s.toString()))+parseInt(g[I])-a*h}if(l==""){l="0";I++}l+=".";if(c.indexOf(".")<0)c.push(".");for(I++;I==I;I++){if(I>=c.length){p++;f=true;c.push(parseInt(t.toString().split("")[p%t.toString().length]))}i=parseInt(m(s.toString()))+parseInt(c[I])-a*Math.floor((parseInt(m(s.toString()))+parseInt(c[I]))/a);if(f){if(i==0&&t==0){l+=Math.floor((parseInt(m(s.toString()))+parseInt(c[I]))/a).toString();return d+l.replace(/^0+|0$/gm,"").replace(/^\./,"0.").replace(/\.$/,"")}for(v=0;v<F.length;v++){if(f&&F[v]==i&&v%t.toString().length==(p+1)%t.toString().length){l+=Math.floor((parseInt(m(s.toString()))+parseInt(c[I]))/a).toString();M=d+(l.slice(0,I-p+v)+"["+l.slice(I-p+v)+"]").replace(/^0+/gm,"").replace(/^\./,"0.");if(M[M.indexOf("[")-1]==M[M.indexOf("]")-1])M=M.slice(0,M.indexOf("[")-1)+"["+M[M.indexOf("[")-1]+M.slice(M.indexOf("[")+1,M.indexOf("]")-1)+"]";if(M.indexOf("]")==M.indexOf("[")+3&&M[M.indexOf("[")+1]==M[M.indexOf("[")+2])M=M.slice(0,M.indexOf("[")+2)+"]";return M.replace("[",e).replace("]",n)}}}l+=Math.floor((parseInt(m(s.toString()))+parseInt(c[I]))/a).toString();if(f)F.push(s);s=i}}
