function advdiv(a,r,t,e,n,s){var f=false;var i=0,p=0,I=-1,h,M,v;var l,u,o="",d;var F;var c=[];var g;var m,$,w,b;var j,k,q;var x;if(!n&&n!=="")n="[";if(!s&&s!="")s="]";if(r==0&&e==0)return false;if(!t)t=0;j=(parseFloat(a)<0?parseFloat(r)>=0:parseFloat(r)<0)?"-":"";a=Math.abs(a);r=Math.abs(r);t=Math.abs(t);e=Math.abs(e);l=a.toString();u=r.toString();if(e!=0){k=l.replace(".","");q=u.replace(".","");m=parseInt(k+t.toString())-parseInt(k);$=parseInt(q+e.toString())-parseInt(q);if(l.indexOf(".")>-1)w=Math.pow(10,l.length-l.indexOf(".")-1+t.toString().length)-Math.pow(10,l.length-l.indexOf(".")-1);else w=Math.pow(10,t.toString().length)-1;if(u.indexOf(".")>-1)b=Math.pow(10,u.length-u.indexOf(".")-1+e.toString().length)-Math.pow(10,u.length-u.indexOf(".")-1);else b=Math.pow(10,e.toString().length)-1;return advdiv(m*b,w*$,0,0,n,s)}F=function(a){if(a.indexOf(".")>-1&&a.indexOf(".")==a.length-2)return a.replace(".","");if(a.indexOf(".")>-1)return a.split(".")[0]+a.split(".")[1].split("")[0]+"."+a.split(".")[1].slice(1);return a+"0"};while(u.indexOf(".")>-1){if(l.indexOf(".")<0){l+=t.toString()[0];if(t.toString().length>1)t=parseInt(t.toString().slice(1)+t.toString()[0])}else l=F(l);u=F(u)}a=parseFloat(l);r=parseInt(u);g=l.split("");x=l.split(".")[0].split("");for(h=0;h<x.length;h++){v=Math.floor((parseInt(F(i.toString()))+parseInt(x[h]))/r);o+=v.toString();i=parseInt(F(i.toString()))+parseInt(x[h])-r*v}if(o==""){o="0";h++}o+=".";if(g.indexOf(".")<0)g.push(".");for(h++;h==h;h++){if(h>=g.length){I++;f=true;g.push(parseInt(t.toString().split("")[I%t.toString().length]))}p=parseInt(F(i.toString()))+parseInt(g[h])-r*Math.floor((parseInt(F(i.toString()))+parseInt(g[h]))/r);if(f){if(p==0&&t==0){o+=Math.floor((parseInt(F(i.toString()))+parseInt(g[h]))/r).toString();return j+o.replace(/^0+|0$/gm,"").replace(/^\./,"0.").replace(/\.$/,"")}for(M=0;M<c.length;M++){if(f&&c[M]==p&&M%t.toString().length==(I+1)%t.toString().length){o+=Math.floor((parseInt(F(i.toString()))+parseInt(g[h]))/r).toString();d=j+(o.slice(0,h-I+M)+"["+o.slice(h-I+M)+"]").replace(/^0+/gm,"").replace(/^\./,"0.");if(d[d.indexOf("[")-1]==d[d.indexOf("]")-1])d=d.slice(0,d.indexOf("[")-1)+"["+d[d.indexOf("[")-1]+d.slice(d.indexOf("[")+1,d.indexOf("]")-1)+"]";if(d.indexOf("]")==d.indexOf("[")+3&&d[d.indexOf("[")+1]==d[d.indexOf("[")+2])d=d.slice(0,d.indexOf("[")+2)+"]";return d.replace("[",n).replace("]",s)}}}o+=Math.floor((parseInt(F(i.toString()))+parseInt(g[h]))/r).toString();if(f)c.push(i);i=p}}
